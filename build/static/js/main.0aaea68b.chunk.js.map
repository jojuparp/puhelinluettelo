{"version":3,"sources":["components/AddNew.js","components/Filter.js","components/Person.js","components/Persons.js","components/BetterNotification.js","components/ErrorNotification.js","services/persons.js","App.js","index.js"],"names":["AddNew","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","filterWith","handleFilterWith","Person","person","removePerson","name","number","onClick","Persons","personsToShow","length","persons","filter","toLowerCase","includes","map","key","id","BetterNotification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotification","baseUrl","axios","get","then","response","data","newObject","post","put","request","delete","App","useState","setPersons","setNewName","setNewNumber","setFilterWith","setMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","changeNumber","personToChange","window","confirm","changedPerson","returnedPerson","setTimeout","catch","error","event","target","preventDefault","personObject","indexOf","find","n","concat","console","log","JSON","stringify","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0aaea68b.chunk.js","sourcesContent":["import React from 'react'\n\nconst AddNew = (props) => {\n\n    return (\n    <form onSubmit={props.addPerson}>\n    <div>\n      name: <input \n      value={props.newName}\n      onChange={props.handleNameChange}\n      />\n    </div>\n    <div>\n      number: <input \n      value={props.newNumber}\n      onChange={props.handleNumberChange}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n    )\n}\n\nexport default AddNew","import React from 'react'\n\nconst Filter = (props) => {\n\n    return (\n    <form>\n        <div>\n          filter shown with:\n          <input\n          value={props.filterWith}\n          onChange={props.handleFilterWith}\n          />\n        </div>\n    </form>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <li>\n    {person.name} {'  '}\n    {person.number} {'  '}\n    <button onClick={removePerson}>remove</button>\n    </li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n\n    const personsToShow =\n    props.filterWith.length === 0 ?\n    props.persons : \n    props.persons.filter(\n        function(person) { \n            return person.name\n            .toLowerCase()\n            .includes(props.filterWith.toLowerCase())\n        }\n    )\n\n    //muodostaa varsinaisen luettelon \n    //Person-komponenteista\n    const rows = () =>\n    personsToShow.map(person => \n        <Person\n        key={person.name}\n        person={person}\n        removePerson={()=>props.removePerson(person.id)}\n        />\n    )\n    \n    return (\n        <div><ul>{rows()}</ul></div>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst BetterNotification = ({message}) => {\n\n    const style = {\n        color: 'green',\n        background: 'lightgray',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default BetterNotification","import React from 'react'\n\nconst ErrorNotification = ({message}) => {\n\n    const style = {\n        color: 'red',\n        background: 'lightgray',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default ErrorNotification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n// const altUrl = 'https://localhost:3002/persons'\n//^^ frontti json-serverin kanssa\n\n//hakee palvelimelta kaikki \nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\n//luo uuden\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\n//päivittää kaikki tai osan tiedoista\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n//poistaa resurssin\nconst remove = (id, newObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\n    return request.then(request.data)\n  }\n\nexport default {getAll, create, update, remove}","import React, { useState, useEffect } from 'react'\nimport AddNew from './components/AddNew'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport BetterNotification from './components/BetterNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\nimport personService from './services/persons'\n\nconst App = (props) => {\n  const [persons, setPersons] = useState([])\n  //hallitsee teksikenttiä:\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterWith, setFilterWith ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n    \n    useEffect(() => {\n      personService\n      .getAll()\n      .then(initialPersons => \n        setPersons(initialPersons))\n    }, [])\n\n    //haetaan henkilöiden nimet tiedoista\n    const names = () => {\n      const arr =\n      persons.map(person => person.name)\n      return arr\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n\n        if ( names().indexOf(personObject.name) >= 0 ){\n                const personToChange =\n                persons.find(n => n.name === personObject.name)\n                changeNumber(personToChange)\n        } else {\n                personService\n                .create(personObject)\n                .then(returnedPerson => {\n                  setPersons(persons.concat(returnedPerson))\n                  setNewName('')\n                  setNewNumber('')\n                  setMessage(\n                    `${returnedPerson.name} added!`\n                  )\n                  setTimeout(() => {\n                    setMessage(null)\n                  }, 3000)\n                })\n                .catch(error => {\n                  console.log(error.response.data)\n                  setErrorMessage(JSON.stringify(error.response.data))\n                  setNewName('')\n                  setNewNumber('')\n                  setTimeout(() => {\n                    setErrorMessage(null)\n                  }, 3000)\n                })\n        }\n    }\n\n    const removePerson = id => {\n        const personToRemove =\n        persons.find(n => n.id === id)\n        const message = `remove ${personToRemove.name}?`\n        if (!window.confirm(message)) return\n        personService\n        .remove(id)\n        .catch(error =>{\n          setErrorMessage(`${personToRemove.name} has already been removed from server`)\n          setTimeout(()=> setErrorMessage(null), 3000)\n        })\n        setPersons(persons.filter(person =>\n          person.id !== id\n        ))\n        setMessage(`${personToRemove.name} removed`)\n        setTimeout(()=> setMessage(null), 3000)\n    }\n\n    const changeNumber = (personToChange) => {\n\n        const message = `${personToChange.name} is already added to phonebook.\n        Replace their old number with a new one?`\n        if (!window.confirm(message)) return\n        const changedPerson = {...personToChange, number: newNumber}\n        personService\n        .update(personToChange.id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person =>\n            person.id !== personToChange.id ? person : returnedPerson))\n        },\n          setNewNumber(''),\n          setNewName(''),\n          setMessage(`changed number of ${personToChange.name}`),\n          setTimeout(()=> setMessage(null), 3000)\n        )\n        .catch(error =>{\n          setErrorMessage(`${personToChange.name} has already been removed from server`)\n          setTimeout(()=> setErrorMessage(null), 3000)\n        })\n        \n    }\n\n   const handleNameChange = (event) => \n        setNewName(event.target.value)\n    \n   const handleNumberChange = (event) => \n       setNewNumber(event.target.value)\n\n   const handleFilterWith = (event) => \n       setFilterWith(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <BetterNotification message={message}/>\n      <ErrorNotification message={errorMessage} />\n      <Filter filterWith={filterWith}\n        handleFilterWith={handleFilterWith}\n        /> \n      <h2>add a new name</h2>\n      <AddNew \n      addPerson={addPerson}\n      newName={newName}\n      newNumber={newNumber}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n      persons={persons}\n      filterWith={filterWith}\n      removePerson={removePerson}\n      />\n      \n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}